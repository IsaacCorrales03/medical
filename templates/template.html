<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.29.0/feather.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <title>{% block title %} {% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/template.css') }}">
    {% block extra_css %}{% endblock %}
</head>

<body>
    <nav class="bg-white shadow-md" x-data="{ open: false }">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <!-- Logo y título -->
                <div class="flex">
                    <div class="flex-shrink-0 flex items-center cursor-pointer"
                        onclick="window.location.href='{{ url_for('index') }}'">
                        <img src="{{ url_for('static', filename='imgs/logo.png') }}" alt="Logo"
                            class="h-10 md:h-12 w-auto object-contain" />
                        <span class="ml-2 text-xl md:text-2xl font-bold text-gray-800">Medi<span
                                class="text-primary">Time</span></span>
                    </div>
                    <!-- Menú desktop -->
                    <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                        <a href="{{ url_for('index') }}"
                            class="{% if request.endpoint == 'index' %}border-primary text-gray-900{% else %}border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700{% endif %} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                            Inicio
                        </a>
                        <a href="{{ url_for('medicamentos') }}"
                            class="{% if request.endpoint == 'medicamentos' %}border-primary text-gray-900{% else %}border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700{% endif %} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                            Medicamentos
                        </a>
                        <a href="#"
                            class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                            Blog
                        </a>
                    </div>
                </div>

                <!-- Botones de sesión (desktop) -->
                <div class="hidden sm:flex sm:items-center">
                    {% if session.user_id %}
                    <a href="{{ url_for('dashboard') }}"
                        class="mr-4 bg-primary hover:bg-primary-light px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm transition-colors">
                        Mi perfil
                    </a>
                    <a href="{{ url_for('logout') }}"
                        class="bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-md border border-gray-300 transition-colors">
                        Cerrar sesión
                    </a>
                    {% else %}
                    <a href="{{ url_for('register') }}"
                        class="bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-md border border-gray-300 transition-colors">
                        Registrarse
                    </a>
                    <a href="{{ url_for('login') }}"
                        class="ml-3 bg-primary hover:bg-primary-light px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm transition-colors">
                        Iniciar sesión
                    </a>
                    {% endif %}
                </div>

                <!-- Botón de menú móvil -->
                <div class="flex items-center sm:hidden">
                    <button @click="open = !open"
                        class="p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-secondary">
                        <span class="sr-only">Abrir menú</span>
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16" x-show="!open"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" x-show="open"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Menú móvil -->
        <div x-show="open" class="sm:hidden" x-cloak>
            <div class="pt-2 pb-3 space-y-1">
                <a href="{{ url_for('index') }}"
                    class="{% if request.endpoint == 'index' %}bg-gray-50 border-primary text-primary{% else %}border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700{% endif %} block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
                    Inicio
                </a>
                <a href="{{ url_for('medicamentos') }}"
                    class="{% if request.endpoint == 'medicamentos' %}bg-gray-50 border-primary text-primary{% else %}border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700{% endif %} block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
                    Medicamentos
                </a>
                <a href="#"
                    class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
                    Blog
                </a>
            </div>

            <!-- Botones de sesión (móvil) -->
            <div class="pt-4 pb-3 border-t border-gray-200">
                <div class="px-4 space-y-2">
                    {% if session.user_id %}
                    <a href="{{ url_for('dashboard') }}"
                        class="block w-full bg-primary hover:bg-primary-light px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm text-center transition-colors">
                        Mi perfil
                    </a>
                    <a href="{{ url_for('logout') }}"
                        class="block w-full bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-md border border-gray-300 text-center transition-colors">
                        Cerrar sesión
                    </a>
                    {% else %}
                    <a href="{{ url_for('register') }}"
                        class="block w-full bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-md border border-gray-300 text-center transition-colors">
                        Registrarse
                    </a>
                    <a href="{{ url_for('login') }}"
                        class="block w-full bg-primary hover:bg-primary-light px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm text-center transition-colors">
                        Iniciar sesión
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-1 gap-8">
                <div>
                    <h3 class="text-sm font-semibold text-gray-300 tracking-wider uppercase">Suscríbete</h3>
                    <p class="mt-4 text-base text-gray-400">Mantente al día con nuestro boletín médico</p>
                    <form class="mt-4 sm:flex" action="{{ url_for('enviar_correo') }}" method="get">
                        <input type="hidden" name="tipo" value="suscripcion">
                        <input type="email" name="correo" id="email"
                            class="appearance-none min-w-0 w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-base text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-secondary focus:border-secondary"
                            placeholder="Tu correo electrónico" required>
                        <div class="mt-3 rounded-md sm:mt-0 sm:ml-3 sm:flex-shrink-0">
                            <button type="submit"
                                class="w-full bg-secondary hover:bg-secondary-light flex items-center justify-center border border-transparent rounded-md py-2 px-4 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-secondary">
                                Suscribirse
                            </button>
                        </div>
                    </form>

                </div>
            </div>
            <div class="mt-8 border-t border-gray-700 pt-8 md:flex md:items-center md:justify-between">
                <p class="mt-8 text-base text-gray-400 md:mt-0 md:order-1">
                    &copy; 2025 MediTime. Todos los derechos reservados.
                </p>
            </div>
            <div class="mt-8 text-sm text-gray-400">
                <p>La información proporcionada en este sitio web es únicamente con fines informativos y no sustituye la
                    consulta con un profesional médico.</p>
            </div>
        </div>
    </footer>
    {% block extra_js %}{% endblock %}
</body>

</html>