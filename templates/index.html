{% extends 'template.html' %}

{% block title %}Inicio{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}
{% block content %}
<!-- Hero con buscador -->
<div class="search-container py-16 sm:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
            <!-- Icono principal del hero -->
            <div class="flex justify-center mb-6">
                <div class="bg-white bg-opacity-20 rounded-full p-6 backdrop-blur-sm">
                    <i class="fas fa-pills text-6xl text-white animate-pulse"></i>
                </div>
            </div>
            
            <h1 class="text-4xl font-extrabold tracking-tight text-white sm:text-5xl md:text-6xl">
                <span class="block flex items-center justify-center gap-3">
                    <i class="fas fa-prescription-bottle-alt text-4xl md:text-5xl"></i>
                    Toda la información sobre
                </span>
                <span class="block flex items-center justify-center gap-3 mt-2">
                    medicamentos a tu alcance
                    <i class="fas fa-heartbeat text-4xl md:text-5xl text-red-300"></i>
                </span>
            </h1>
            <p class="mt-3 max-w-md mx-auto text-base text-white opacity-90 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl flex items-center justify-center gap-2">
                <i class="fas fa-search text-xl"></i>
                Busca información precisa y actualizada sobre dosis, efectos secundarios, interacciones y mucho más.
            </p>
            <div class="mt-10 max-w-xl mx-auto">
                <form class="flex items-center search-animation bg-white rounded-full shadow-xl p-1"
                    action="/medicamentos" method="GET">
                    <div class="pl-4 flex items-center pointer-events-none">
                        <i class="fas fa-search text-gray-400 text-lg"></i>
                    </div>
                    <input class="w-full pl-3 pr-10 py-3 rounded-full text-gray-900 focus:outline-none" type="text"
                        name="name" placeholder="Buscar medicamento (ej. Paracetamol, Ibuprofeno...)">
                    <button type="submit"
                        class="text-white font-bold py-3 px-6 rounded-full transition duration-150 ease-in-out mr-1 flex items-center gap-2"
                        style="background-color: #d53d70; hover:background-color: #f74f8c;">
                        <i class="fas fa-search"></i>
                        Buscar
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Pills de medicamentos populares con iconos -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-12">
        <div class="text-center mb-6">
            <p class="text-white opacity-80 flex items-center justify-center gap-2">
                <i class="fas fa-star text-yellow-300"></i>
                Medicamentos más buscados
                <i class="fas fa-star text-yellow-300"></i>
            </p>
        </div>
        <div class="flex flex-wrap justify-center gap-3" id="medication-pills">
        </div>
    </div>
</div>

<!-- Características con iconos mejorados -->
<div class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="lg:text-center">
            <div class="flex items-center justify-center gap-3 mb-4">
                <i class="fas fa-certificate text-2xl" style="color: #d53d70;"></i>
                <h2 class="text-base font-semibold tracking-wide uppercase" style="color: #d53d70;">Características</h2>
                <i class="fas fa-certificate text-2xl" style="color: #d53d70;"></i>
            </div>
            <p class="mt-2 text-3xl leading-8 font-extrebold tracking-tight text-gray-900 sm:text-4xl flex items-center justify-center gap-3 flex-wrap">
                <i class="fas fa-shield-alt text-3xl" style="color: #4dbdc1;"></i>
                Todo lo que necesitas saber sobre tus medicamentos
                <i class="fas fa-user-md text-3xl" style="color: #4dbdc1;"></i>
            </p>
            <p class="mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto flex items-center justify-center gap-2">
                <i class="fas fa-info-circle text-blue-500"></i>
                Información completa y actualizada para ayudarte a entender tus tratamientos médicos
            </p>
        </div>

        <div class="mt-16">
            <div class="space-y-10 md:space-y-0 md:grid md:grid-cols-3 md:gap-x-8 md:gap-y-10">
                <div class="card bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 group">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full text-white mb-4 mx-auto group-hover:scale-110 transition-transform duration-300"
                         style="background: linear-gradient(to right, #4dbdc1, #52e2d9);">
                        <i class="fas fa-file-medical-alt text-2xl"></i>
                    </div>
                    <h3 class="text-lg leading-6 font-medium text-gray-900 text-center flex items-center justify-center gap-2">
                        <i class="fas fa-clipboard-list" style="color: #4dbdc1;"></i>
                        Información Detallada
                    </h3>
                    <p class="mt-2 text-base text-gray-500 text-center">
                        Accede a información completa sobre dosis, efectos secundarios, contraindicaciones y mecanismos
                        de acción.
                    </p>
                    <div class="flex justify-center gap-3 mt-4 opacity-50" style="color: #4dbdc1;">
                        <i class="fas fa-pills"></i>
                        <i class="fas fa-syringe"></i>
                        <i class="fas fa-capsules"></i>
                    </div>
                </div>

                <div class="card bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 group">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full text-white mb-4 mx-auto group-hover:scale-110 transition-transform duration-300"
                         style="background: linear-gradient(to right, #d53d70, #f74f8c);">
                        <i class="fas fa-exclamation-triangle text-2xl"></i>
                    </div>
                    <h3 class="text-lg leading-6 font-medium text-gray-900 text-center flex items-center justify-center gap-2">
                        <i class="fas fa-balance-scale" style="color: #d53d70;"></i>
                        Alertas e Interacciones
                    </h3>
                    <p class="mt-2 text-base text-gray-500 text-center">
                        Conoce las posibles interacciones con otros medicamentos, alimentos o condiciones médicas.
                    </p>
                    <div class="flex justify-center gap-3 mt-4 text-red-400 opacity-50">
                        <i class="fas fa-ban"></i>
                        <i class="fas fa-utensils"></i>
                        <i class="fas fa-heart-pulse"></i>
                    </div>
                </div>

                <div class="card bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 group">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full bg-gradient-to-r from-green-400 to-green-600 text-white mb-4 mx-auto group-hover:scale-110 transition-transform duration-300">
                        <i class="fas fa-book-medical text-2xl"></i>
                    </div>
                    <h3 class="text-lg leading-6 font-medium text-gray-900 text-center flex items-center justify-center gap-2">
                        <i class="fas fa-route text-green-600"></i>
                        Guías Prácticas
                    </h3>
                    <p class="mt-2 text-base text-gray-500 text-center">
                        Instrucciones claras sobre cómo tomar los medicamentos y consejos para optimizar tu tratamiento.
                    </p>
                    <div class="flex justify-center gap-3 mt-4 text-green-400 opacity-50">
                        <i class="fas fa-clock"></i>
                        <i class="fas fa-calendar-check"></i>
                        <i class="fas fa-thumbs-up"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Sección de categorías mejorada -->
<div class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-10">
            <div class="flex items-center justify-center gap-3 mb-4">
                <i class="fas fa-th-large text-3xl animate-bounce" style="color: #d53d70;"></i>
                <h2 class="text-3xl font-bold text-gray-900">Explora por categorías</h2>
                <i class="fas fa-th-large text-3xl animate-bounce" style="color: #d53d70;"></i>
            </div>
            <p class="text-gray-600 flex items-center justify-center gap-2">
                <i class="fas fa-mouse-pointer text-blue-500"></i>
                Haz clic en cualquier categoría para explorar
            </p>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
            {% for categoria in categorias %}
            <div class="group bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1 cursor-pointer"
                 onclick="buscarPorCategoria('{{ categoria }}')">
                <!-- Barra de color aleatoria -->
                <div class="h-3 {% if loop.index0 % 4 == 0 %}bg-gradient-to-r{% else %}bg-gradient-to-r{% endif %}"
                     style="background: linear-gradient(to right, 
                     {% if loop.index0 % 4 == 0 %}#d53d70, #f74f8c
                     {% elif loop.index0 % 4 == 1 %}#4dbdc1, #52e2d9
                     {% elif loop.index0 % 4 == 2 %}#10b981, #34d399
                     {% else %}#8b5cf6, #a78bfa{% endif %});"></div>
                
                <div class="p-6 text-center">
                    <!-- Contenedor del icono con estilos mejorados -->
                    <div class="flex items-center justify-center mb-4 relative">
                        <div class="absolute inset-0 rounded-full group-hover:scale-125 transition-transform duration-300"
                             style="background: linear-gradient(to right, 
                             {% if loop.index0 % 4 == 0 %}rgba(213, 61, 112, 0.1), rgba(247, 79, 140, 0.1)
                             {% elif loop.index0 % 4 == 1 %}rgba(77, 189, 193, 0.1), rgba(82, 226, 217, 0.1)
                             {% elif loop.index0 % 4 == 2 %}rgba(16, 185, 129, 0.1), rgba(52, 211, 153, 0.1)
                             {% else %}rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1){% endif %});"></div>
                        {% if 'cápsula' in categoria.lower() %}
                            <i class="fa-solid fa-capsules text-5xl group-hover:scale-110 transition-transform duration-300 relative z-10"
                               style="color: {% if loop.index0 % 4 == 0 %}#d53d70{% elif loop.index0 % 4 == 1 %}#4dbdc1{% elif loop.index0 % 4 == 2 %}#10b981{% else %}#8b5cf6{% endif %};"></i>
                        {% elif 'inhalador' in categoria.lower() %}
                            <i class="fa-solid fa-lungs text-5xl group-hover:scale-110 transition-transform duration-300 relative z-10"
                               style="color: {% if loop.index0 % 4 == 0 %}#d53d70{% elif loop.index0 % 4 == 1 %}#4dbdc1{% elif loop.index0 % 4 == 2 %}#10b981{% else %}#8b5cf6{% endif %};"></i>
                        {% elif 'inyectable' in categoria.lower() %}
                            <i class="fa-solid fa-syringe text-5xl group-hover:scale-110 transition-transform duration-300 relative z-10"
                               style="color: {% if loop.index0 % 4 == 0 %}#d53d70{% elif loop.index0 % 4 == 1 %}#4dbdc1{% elif loop.index0 % 4 == 2 %}#10b981{% else %}#8b5cf6{% endif %};"></i>
                        {% elif 'parche' in categoria.lower() %}
                            <i class="fa-solid fa-bandage text-5xl group-hover:scale-110 transition-transform duration-300 relative z-10"
                               style="color: {% if loop.index0 % 4 == 0 %}#d53d70{% elif loop.index0 % 4 == 1 %}#4dbdc1{% elif loop.index0 % 4 == 2 %}#10b981{% else %}#8b5cf6{% endif %};"></i>
                        {% elif 'pastilla' in categoria.lower() %}
                            <i class="fas fa-tablets text-5xl group-hover:scale-110 transition-transform duration-300 relative z-10"
                               style="color: {% if loop.index0 % 4 == 0 %}#d53d70{% elif loop.index0 % 4 == 1 %}#4dbdc1{% elif loop.index0 % 4 == 2 %}#10b981{% else %}#8b5cf6{% endif %};"></i>
                        {% elif 'sublingual' in categoria.lower() %}
                            <i class="fa-solid fa-face-grin-tongue text-5xl group-hover:scale-110 transition-transform duration-300 relative z-10"
                               style="color: {% if loop.index0 % 4 == 0 %}#d53d70{% elif loop.index0 % 4 == 1 %}#4dbdc1{% elif loop.index0 % 4 == 2 %}#10b981{% else %}#8b5cf6{% endif %};"></i>
                        {% else %}
                            <i class="fa-solid fa-pills text-5xl group-hover:scale-110 transition-transform duration-300 relative z-10"
                               style="color: {% if loop.index0 % 4 == 0 %}#d53d70{% elif loop.index0 % 4 == 1 %}#4dbdc1{% elif loop.index0 % 4 == 2 %}#10b981{% else %}#8b5cf6{% endif %};"></i>
                        {% endif %}
                    </div>
                    
                    <h3 class="font-semibold text-lg text-gray-900 transition-colors duration-300 flex items-center justify-center gap-2"
                        onmouseover="this.style.color='{% if loop.index0 % 4 == 0 %}#d53d70{% elif loop.index0 % 4 == 1 %}#4dbdc1{% elif loop.index0 % 4 == 2 %}#059669{% else %}#7c3aed{% endif %}'"
                        onmouseout="this.style.color='#111827'">
                        <i class="fas fa-folder-open text-sm opacity-70"></i>
                        {{ categoria }}
                    </h3>
                    <p class="mt-1 text-sm text-gray-500 flex items-center justify-center gap-1">
                        <i class="fas fa-arrow-right text-xs"></i>
                        Explorar medicamentos de esta categoría
                    </p>
                    
                    <!-- Indicador de cantidad -->
                    <div class="mt-3 flex items-center justify-center gap-1 text-xs text-gray-400">
                        <i class="fas fa-pills"></i>
                        <i class="fas fa-pills"></i>
                        <i class="fas fa-pills"></i>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Mostrar mensaje si no hay categorías -->
        {% if not categorias %}
        <div class="text-center py-12">
            <div class="flex justify-center mb-4">
                <i class="fas fa-box-open text-6xl text-gray-300"></i>
            </div>
            <h3 class="mt-2 text-sm font-medium text-gray-900 flex items-center justify-center gap-2">
                <i class="fas fa-info-circle text-blue-400"></i>
                No hay categorías disponibles
            </h3>
            <p class="mt-1 text-sm text-gray-500 flex items-center justify-center gap-2">
                <i class="fas fa-plus-circle text-green-400"></i>
                Agrega algunos medicamentos para ver las categorías aquí.
            </p>
        </div>
        {% endif %}

        <div class="text-center mt-10">
            <a href="{{ url_for('medicamentos') }}" 
                class="inline-flex items-center justify-center px-8 py-4 border border-transparent text-base font-medium rounded-full text-white shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300"
                style="background: linear-gradient(to right, #4dbdc1, #52e2d9);"
                onmouseover="this.style.background='linear-gradient(to right, #52e2d9, #4dbdc1)'"
                onmouseout="this.style.background='linear-gradient(to right, #4dbdc1, #52e2d9)'">
                <i class="fas fa-pills mr-2 text-lg"></i>
                Ver todos los medicamentos
                <i class="fas fa-arrow-right ml-2 text-lg group-hover:translate-x-1 transition-transform duration-300"></i>
            </a>
        </div>
    </div>
</div>

<!-- Sección de información médica mejorada -->
<div class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="lg:grid lg:grid-cols-2 lg:gap-8 lg:items-center">
            <div>
                <div class="flex items-center gap-3 mb-4">
                    <i class="fas fa-award text-4xl text-yellow-500"></i>
                    <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                        Información médica confiable
                    </h2>
                </div>
                <p class="mt-3 max-w-3xl text-lg text-gray-500 flex items-start gap-2">
                    <i class="fas fa-user-md text-blue-500 text-xl mt-1"></i>
                    Nuestro contenido es elaborado y revisado por profesionales de la salud para garantizar precisión y
                    actualidad.
                </p>
                <div class="mt-8 space-y-6">
                    <div class="flex items-start group hover:bg-gray-50 p-3 rounded-lg transition-colors duration-300">
                        <div class="flex-shrink-0 bg-green-100 rounded-full p-2 group-hover:bg-green-200 transition-colors duration-300">
                            <i class="fas fa-sync-alt text-green-600 text-xl group-hover:rotate-180 transition-transform duration-500"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-base text-gray-500">
                                <strong class="font-medium text-gray-900 flex items-center gap-2">
                                    <i class="fas fa-calendar-alt text-blue-500"></i>
                                    Actualizada regularmente
                                </strong> 
                                con los últimos avances y recomendaciones médicas.
                            </p>
                        </div>
                    </div>
                    
                    <div class="flex items-start group hover:bg-gray-50 p-3 rounded-lg transition-colors duration-300">
                        <div class="flex-shrink-0 bg-blue-100 rounded-full p-2 group-hover:bg-blue-200 transition-colors duration-300">
                            <i class="fas fa-certificate text-blue-600 text-xl group-hover:scale-110 transition-transform duration-300"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-base text-gray-500">
                                <strong class="font-medium text-gray-900 flex items-center gap-2">
                                    <i class="fas fa-microscope text-purple-500"></i>
                                    Validada por expertos
                                </strong> 
                                en farmacología y medicina basada en evidencia.
                            </p>
                        </div>
                    </div>
                    
                    <div class="flex items-start group hover:bg-gray-50 p-3 rounded-lg transition-colors duration-300">
                        <div class="flex-shrink-0 bg-purple-100 rounded-full p-2 group-hover:bg-purple-200 transition-colors duration-300">
                            <i class="fas fa-lightbulb text-purple-600 text-xl group-hover:animate-pulse"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-base text-gray-500">
                                <strong class="font-medium text-gray-900 flex items-center gap-2">
                                    <i class="fas fa-comments text-orange-500"></i>
                                    Explicada de forma clara
                                </strong> 
                                para que cualquier persona pueda entenderla.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Sección visual derecha -->
            <div class="mt-10 lg:mt-0 flex justify-center">
                <div class="relative">
                    <div class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-3xl p-8 shadow-2xl">
                        <div class="grid grid-cols-3 gap-4 text-center">
                            <div class="group">
                                <i class="fas fa-stethoscope text-4xl text-blue-500 mb-2 group-hover:scale-125 transition-transform duration-300"></i>
                                <p class="text-xs text-gray-600">Diagnóstico</p>
                            </div>
                            <div class="group">
                                <i class="fas fa-flask text-4xl text-green-500 mb-2 group-hover:scale-125 transition-transform duration-300"></i>
                                <p class="text-xs text-gray-600">Análisis</p>
                            </div>
                            <div class="group">
                                <i class="fas fa-heartbeat text-4xl text-red-500 mb-2 group-hover:scale-125 transition-transform duration-300"></i>
                                <p class="text-xs text-gray-600">Monitoreo</p>
                            </div>
                            <div class="group">
                                <i class="fas fa-prescription text-4xl text-purple-500 mb-2 group-hover:scale-125 transition-transform duration-300"></i>
                                <p class="text-xs text-gray-600">Recetas</p>
                            </div>
                            <div class="group">
                                <i class="fas fa-shield-alt text-4xl text-indigo-500 mb-2 group-hover:scale-125 transition-transform duration-300"></i>
                                <p class="text-xs text-gray-600">Seguridad</p>
                            </div>
                            <div class="group">
                                <i class="fas fa-chart-line text-4xl text-orange-500 mb-2 group-hover:scale-125 transition-transform duration-300"></i>
                                <p class="text-xs text-gray-600">Seguimiento</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Botón de ayuda mejorado -->
<a href="#" class="help-button fixed bottom-6 right-6 text-white p-4 rounded-full shadow-2xl hover:shadow-3xl transform hover:scale-110 transition-all duration-300 z-50 group"
   style="background: linear-gradient(to right, #3b82f6, #2563eb);">
    <div class="flex items-center gap-2">
        <i class="fas fa-question-circle text-2xl group-hover:rotate-12 transition-transform duration-300"></i>
        <span class="hidden md:inline font-medium">Ayuda</span>
    </div>
</a>

<!-- Modal de ayuda mejorado -->
<div id="helpModal" class="modal flex items-center justify-center fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50" style="display: none;">
    <div class="modal-content bg-white p-8 max-w-md w-11/12 rounded-2xl shadow-2xl transform scale-95 transition-all duration-300">
        <div class="flex justify-between items-center mb-6">
            <div class="flex items-center gap-3">
                <i class="fas fa-headset text-2xl" style="color: #d53d70;"></i>
                <h2 class="text-2xl font-bold" style="color: #d53d70;">Centro de Ayuda</h2>
            </div>
            <button id="closeModal" class="text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors duration-300">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        
        <div class="border-t border-gray-200 pt-6 space-y-4">
            <div class="text-center">
                <i class="fas fa-phone-alt text-3xl mb-3" style="color: #4dbdc1;"></i>
                <p class="mb-4 text-gray-600">Recibe ayuda llamando al:</p>
            </div>
            
            <a href="tel:+50664715781"
                class="block text-center text-white py-4 px-6 rounded-xl hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 group"
                style="background: linear-gradient(to right, #4dbdc1, #52e2d9);">
                <div class="flex items-center justify-center gap-3">
                    <i class="fas fa-phone text-xl group-hover:animate-bounce"></i>
                    <span class="text-lg font-semibold">+506 6471 5781</span>
                </div>
            </a>
            
            <div class="text-center py-2">
                <span class="text-gray-400 text-sm flex items-center justify-center gap-2">
                    <i class="fas fa-grip-lines-vertical"></i>
                    <span>o</span>
                    <i class="fas fa-grip-lines-vertical"></i>
                </span>
            </div>
            
            <a href="https://wa.me/50664715781" target="_blank"
                class="flex items-center justify-center bg-green-500 text-white py-4 px-6 rounded-xl hover:bg-green-600 hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 group">
                <i class="fab fa-whatsapp text-2xl mr-3 group-hover:scale-125 transition-transform duration-300"></i>
                <div class="text-left">
                    <p class="font-semibold">WhatsApp</p>
                    <p class="text-sm opacity-90">+506 6471 5781</p>
                </div>
            </a>
        </div>
    </div>
</div>
{% endblock %}